<div *ngIf="assay">

  <h3>Modify experiment description</h3>

  <div *ngIf="errors" class="alert alert-danger">
    <ul>
      <li *ngFor="let err of errors">{{err}}</li>
    </ul>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">General description</div>
    <div class="panel-body">
      <bd2-general-desc-form
        (onAccepted)="saveEdits($event)"
        (onCancelled)="hideEdits($event)"
        *ngIf="activeGeneralDescForm"
        [blocked]="blocked"
        [model]="assay.generalDesc"
      ></bd2-general-desc-form>
      <bd2-general-desc-view
        *ngIf="!activeGeneralDescForm"
        [model]="assay.generalDesc"
      ></bd2-general-desc-view>

      <div *ngIf="!activeGeneralDescForm">
        <hr>
        <button (click)="activeGeneralDescForm=true" [disabled]="activeGeneralDescForm" class="btn btn-primary"
                type="button">Modify
        </button>
      </div>

    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">Contributions</div>
    <div class="panel-body">

      <bd2-contr-desc-form
        (onAccepted)="saveEdits($event)"
        (onCancelled)="hideEdits($event)"
        *ngIf="activeContributionDescForm"
        [blocked]="blocked"
        [model]="assay.contributionDesc"
      ></bd2-contr-desc-form>
      <bd2-contr-desc-view
        *ngIf="!activeContributionDescForm"
        [model]="assay.contributionDesc"
      ></bd2-contr-desc-view>

      <div *ngIf="!activeContributionDescForm">
        <hr>
        <button (click)="activeContributionDescForm=true" [disabled]="activeContributionDescForm" class="btn btn-primary"
                type="button">Modify
        </button>
      </div>
    </div>

  </div>

  <div class="panel panel-default">
    <div class="panel-heading">Biological details</div>
    <div class="panel-body">

      <bd2-simple-bio-desc-form
        (onAccepted)="saveEdits($event)"
        (onCancelled)="hideEdits($event)"
        *ngIf="activeSimpleBioDescForm"
        [blocked]="blocked"
        [model]="assay"
      ></bd2-simple-bio-desc-form>

      <bd2-simple-bio-desc-view
        *ngIf="!activeSimpleBioDescForm"
        [model]="assay"
      ></bd2-simple-bio-desc-view>

      <div *ngIf="!activeSimpleBioDescForm">
        <hr>
        <button (click)="activeSimpleBioDescForm=true" [disabled]="activeSimpleBioDescForm" class="btn btn-primary"
                type="button">Modify
        </button>
      </div>

    </div>

  </div>

  <div class="panel panel-default" id="MeasurementSection">
    <div class="panel-heading">Measurement details</div>
    <div class="panel-body">

      <bd2-measurement-desc-rform
        (onAccepted)="saveEdits($event)"
        (onCancelled)="hideEdits($event)"
        *ngIf="activeMeasurementDescForm"
        [blocked]="blocked"
        [model]="assay.experimentalDetails.measurementDesc"
      ></bd2-measurement-desc-rform>

      <bd2-measurement-desc-view
        *ngIf="!activeMeasurementDescForm"
        [model]="assay.experimentalDetails.measurementDesc"
      >
      </bd2-measurement-desc-view>

      <div *ngIf="!activeMeasurementDescForm">
        <hr>
        <button (click)="activeMeasurementDescForm=true" [disabled]="activeMeasurementDescForm" class="btn btn-primary"
                type="button">Modify
        </button>
      </div>


    </div>

  </div>


  <div *ngIf="errors" class="alert alert-danger">
    <ul>
      <li *ngFor="let err of errors">{{err}}</li>
    </ul>
  </div>


  <!--


  <button type="button" class="btn btn-primary" [disabled]="blocked || errors" (click)="save()">Save changes</button>
  <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
  -->

  <!-- {{ assay | json }} -->
</div>
